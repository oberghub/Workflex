{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Ionicons } from '@expo/vector-icons';\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { db } from \"../../database/firebase\";\nimport { useSelector } from 'react-redux';\nimport { collection, addDoc, onSnapshot, query, where, deleteDoc, doc, updateDoc } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MealScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      refreshing = _useState2[0],\n      setRefreshing = _useState2[1];\n\n  var user = useSelector(function (state) {\n    return state.user_data.user;\n  });\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      courseData = _useState4[0],\n      setCourseData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      courseDocId = _useState6[0],\n      setCourseDocId = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      postureData = _useState8[0],\n      setPostureData = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      postureDocId = _useState10[0],\n      setPostureDocId = _useState10[1];\n\n  useEffect(function () {});\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: [styles.shadowbox, {\n        width: \"100%\",\n        padding: 10\n      }],\n      children: _jsx(FlatList, {\n        data: courseData,\n        refreshControl: _jsx(RefreshControl, {\n          refreshing: refreshing,\n          onRefresh: function onRefresh() {\n            pullMe();\n          }\n        }),\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item,\n              index = _ref2.index;\n          return _jsxs(View, {\n            style: {\n              height: 150,\n              width: '100%',\n              borderWidth: 1,\n              borderColor: 'lightgray',\n              borderRadius: 10,\n              marginBottom: 15,\n              backgroundColor: item.backgroundColor\n            },\n            children: [_jsxs(View, {\n              style: [styles.gridItem, {\n                padding: 10,\n                paddingTop: 15\n              }],\n              children: [_jsxs(View, {\n                style: {\n                  flexDirection: 'row'\n                },\n                children: [_jsx(Text, {\n                  style: [styles.txtImg, {\n                    marginBottom: 15\n                  }],\n                  children: item.courseName\n                }), _jsx(TouchableOpacity, {\n                  style: {\n                    position: 'absolute',\n                    right: 0,\n                    top: 5\n                  },\n                  children: _jsx(Ionicons, {\n                    name: \"ios-trash-outline\",\n                    size: 20,\n                    color: 'black'\n                  })\n                })]\n              }), _jsx(Text, {\n                style: {\n                  fontSize: 18,\n                  fontWeight: '500'\n                },\n                children: postureData.filter(function (posture) {\n                  return posture.byCourseId == item.courseId;\n                }).length\n              })]\n            }), _jsx(View, {\n              style: {\n                flexDirection: 'column'\n              },\n              children: _jsx(Pressable, {\n                style: {\n                  width: '100%',\n                  height: 40,\n                  backgroundColor: 'lightblue',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  borderRadius: 5\n                },\n                options: function options(_ref3) {\n                  var route = _ref3.route;\n                  return {\n                    title: route.params.title\n                  };\n                },\n                children: _jsx(Ionicons, {\n                  name: \"ios-enter-outline\",\n                  size: 20,\n                  color: 'black'\n                })\n              })\n            })]\n          }, index);\n        }\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: 'white'\n  },\n  gridItem: {\n    flex: 1,\n    marginBottom: 10,\n    paddingTop: 5,\n    height: 170\n  },\n  shadowbox: {\n    flex: 1,\n    borderRadius: 10,\n    shadowColor: \"black\",\n    shadowOpacity: 0.26,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 10,\n    elevation: 3,\n    padding: 20,\n    justifyContent: \"flex-end\"\n  },\n  bgImage: {\n    width: \"100%\",\n    height: 250,\n    marginTop: -5,\n    borderRadius: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: 'center'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    borderRadius: 5,\n    padding: 35,\n    width: '100%',\n    height: 500,\n    alignItems: \"center\",\n    position: 'absolute',\n    bottom: 0,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 5,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 5,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["Ionicons","React","useEffect","useState","db","useSelector","collection","addDoc","onSnapshot","query","where","deleteDoc","doc","updateDoc","MealScreen","route","navigation","refreshing","setRefreshing","user","state","user_data","courseData","setCourseData","courseDocId","setCourseDocId","postureData","setPostureData","postureDocId","setPostureDocId","styles","container","shadowbox","width","padding","pullMe","item","index","height","borderWidth","borderColor","borderRadius","marginBottom","backgroundColor","gridItem","paddingTop","flexDirection","txtImg","courseName","position","right","top","fontSize","fontWeight","filter","posture","byCourseId","courseId","length","alignItems","justifyContent","title","params","StyleSheet","create","flex","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","bgImage","marginTop","textAlign","centeredView","modalView","bottom","button","textStyle","color","modalText"],"sources":["C:/mdp-proj-2022/screens/Food/FoodScreen.js"],"sourcesContent":["import { Ionicons } from '@expo/vector-icons';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, ScrollView, FlatList, RefreshControl, TouchableOpacity, Pressable } from 'react-native';\r\nimport { db } from '../../database/firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport { collection, addDoc, onSnapshot, query, where, deleteDoc, doc, updateDoc } from 'firebase/firestore';\r\n\r\nexport default function MealScreen({ route, navigation }) {\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const user = useSelector((state) => state.user_data.user)\r\n\r\n  const [courseData, setCourseData] = useState([])\r\n  const [courseDocId, setCourseDocId] = useState([])\r\n  const [postureData, setPostureData] = useState([])\r\n  const [postureDocId, setPostureDocId] = useState([])\r\n\r\n  useEffect(() => {\r\n    // const mycourse = query(collection(db, 'mycourse'), where(\"uid\", \"==\", user.uid))\r\n    // onSnapshot(mycourse, (snapshot) => {\r\n    //   setCourseData(snapshot.docs.map(doc => doc.data()))\r\n    //   setCourseDocId(snapshot.docs.map(doc => doc.id))\r\n    // })\r\n  })\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={[styles.shadowbox, { width: \"100%\", padding: 10 }]}>\r\n\r\n        <FlatList data={courseData}\r\n          refreshControl={\r\n            <RefreshControl\r\n              refreshing={refreshing}\r\n              onRefresh={() => { pullMe() }} />\r\n          }\r\n          renderItem={({ item, index }) =>\r\n            <View style={{\r\n              height: 150,\r\n              width: '100%',\r\n              borderWidth: 1,\r\n              borderColor: 'lightgray',\r\n              borderRadius: 10,\r\n              marginBottom: 15,\r\n              backgroundColor: item.backgroundColor\r\n            }} key={index}>\r\n              <View style={[styles.gridItem, { padding: 10, paddingTop: 15 }]}>\r\n                <View style={{ flexDirection: 'row', }}>\r\n                  <Text style={[styles.txtImg, { marginBottom: 15 }]}>{item.courseName}</Text>\r\n                  <TouchableOpacity style={{\r\n                    position: 'absolute',\r\n                    right: 0,\r\n                    top: 5\r\n                  }}>\r\n                    <Ionicons name='ios-trash-outline' size={20} color={'black'} />\r\n\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <Text style={{ fontSize: 18, fontWeight: '500' }}>{postureData.filter(posture => posture.byCourseId == item.courseId).length}\r\n                </Text>\r\n              </View>\r\n\r\n              <View style={{ flexDirection: 'column' }}>\r\n                <Pressable style={{\r\n                  width: '100%',\r\n                  height: 40,\r\n                  backgroundColor: 'lightblue',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  borderRadius: 5\r\n                }}\r\n                  options={({ route }) => ({\r\n                    title: route.params.title,\r\n                  })}>\r\n                  <Ionicons name='ios-enter-outline' size={20} color={'black'} />\r\n                </Pressable>\r\n              </View>\r\n            </View>\r\n\r\n          } />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: 'white'\r\n  },\r\n  gridItem: {\r\n    flex: 1,\r\n    marginBottom: 10,\r\n    paddingTop: 5,\r\n    height: 170,\r\n  },\r\n  shadowbox: {\r\n    flex: 1,\r\n    borderRadius: 10,\r\n    shadowColor: \"black\",\r\n    shadowOpacity: 0.26,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowRadius: 10,\r\n    elevation: 3,\r\n    padding: 20,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  bgImage: {\r\n    width: \"100%\",\r\n    height: 250,\r\n    marginTop: -5,\r\n    borderRadius: 10,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    textAlign: 'center',\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  modalView: {\r\n    backgroundColor: \"white\",\r\n    borderRadius: 5,\r\n    padding: 35,\r\n    width: '100%',\r\n    height: 500,\r\n    alignItems: \"center\",\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.5,\r\n    shadowRadius: 4,\r\n    elevation: 5\r\n  },\r\n  button: {\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    elevation: 2\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  modalText: {\r\n    marginBottom: 5,\r\n    textAlign: \"center\"\r\n  }\r\n});"],"mappings":";AAAA,SAASA,QAAT,QAAyB,oBAAzB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;;;;AAEA,SAASC,EAAT;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,UAA7B,EAAyCC,KAAzC,EAAgDC,KAAhD,EAAuDC,SAAvD,EAAkEC,GAAlE,EAAuEC,SAAvE,QAAwF,oBAAxF;;;AAEA,eAAe,SAASC,UAAT,OAA2C;EAAA,IAArBC,KAAqB,QAArBA,KAAqB;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EACxD,gBAAoCb,QAAQ,CAAC,KAAD,CAA5C;EAAA;EAAA,IAAOc,UAAP;EAAA,IAAmBC,aAAnB;;EACA,IAAMC,IAAI,GAAGd,WAAW,CAAC,UAACe,KAAD;IAAA,OAAWA,KAAK,CAACC,SAAN,CAAgBF,IAA3B;EAAA,CAAD,CAAxB;;EAEA,iBAAoChB,QAAQ,CAAC,EAAD,CAA5C;EAAA;EAAA,IAAOmB,UAAP;EAAA,IAAmBC,aAAnB;;EACA,iBAAsCpB,QAAQ,CAAC,EAAD,CAA9C;EAAA;EAAA,IAAOqB,WAAP;EAAA,IAAoBC,cAApB;;EACA,iBAAsCtB,QAAQ,CAAC,EAAD,CAA9C;EAAA;EAAA,IAAOuB,WAAP;EAAA,IAAoBC,cAApB;;EACA,iBAAwCxB,QAAQ,CAAC,EAAD,CAAhD;EAAA;EAAA,IAAOyB,YAAP;EAAA,IAAqBC,eAArB;;EAEA3B,SAAS,CAAC,YAAM,CAMf,CANQ,CAAT;EAQA,OACE,KAAC,IAAD;IAAM,KAAK,EAAE4B,MAAM,CAACC,SAApB;IAAA,UACE,KAAC,IAAD;MAAM,KAAK,EAAE,CAACD,MAAM,CAACE,SAAR,EAAmB;QAAEC,KAAK,EAAE,MAAT;QAAiBC,OAAO,EAAE;MAA1B,CAAnB,CAAb;MAAA,UAEE,KAAC,QAAD;QAAU,IAAI,EAAEZ,UAAhB;QACE,cAAc,EACZ,KAAC,cAAD;UACE,UAAU,EAAEL,UADd;UAEE,SAAS,EAAE,qBAAM;YAAEkB,MAAM;UAAI;QAF/B,EAFJ;QAME,UAAU,EAAE;UAAA,IAAGC,IAAH,SAAGA,IAAH;UAAA,IAASC,KAAT,SAASA,KAAT;UAAA,OACV,MAAC,IAAD;YAAM,KAAK,EAAE;cACXC,MAAM,EAAE,GADG;cAEXL,KAAK,EAAE,MAFI;cAGXM,WAAW,EAAE,CAHF;cAIXC,WAAW,EAAE,WAJF;cAKXC,YAAY,EAAE,EALH;cAMXC,YAAY,EAAE,EANH;cAOXC,eAAe,EAAEP,IAAI,CAACO;YAPX,CAAb;YAAA,WASE,MAAC,IAAD;cAAM,KAAK,EAAE,CAACb,MAAM,CAACc,QAAR,EAAkB;gBAAEV,OAAO,EAAE,EAAX;gBAAeW,UAAU,EAAE;cAA3B,CAAlB,CAAb;cAAA,WACE,MAAC,IAAD;gBAAM,KAAK,EAAE;kBAAEC,aAAa,EAAE;gBAAjB,CAAb;gBAAA,WACE,KAAC,IAAD;kBAAM,KAAK,EAAE,CAAChB,MAAM,CAACiB,MAAR,EAAgB;oBAAEL,YAAY,EAAE;kBAAhB,CAAhB,CAAb;kBAAA,UAAqDN,IAAI,CAACY;gBAA1D,EADF,EAEE,KAAC,gBAAD;kBAAkB,KAAK,EAAE;oBACvBC,QAAQ,EAAE,UADa;oBAEvBC,KAAK,EAAE,CAFgB;oBAGvBC,GAAG,EAAE;kBAHkB,CAAzB;kBAAA,UAKE,KAAC,QAAD;oBAAU,IAAI,EAAC,mBAAf;oBAAmC,IAAI,EAAE,EAAzC;oBAA6C,KAAK,EAAE;kBAApD;gBALF,EAFF;cAAA,EADF,EAYE,KAAC,IAAD;gBAAM,KAAK,EAAE;kBAAEC,QAAQ,EAAE,EAAZ;kBAAgBC,UAAU,EAAE;gBAA5B,CAAb;gBAAA,UAAmD3B,WAAW,CAAC4B,MAAZ,CAAmB,UAAAC,OAAO;kBAAA,OAAIA,OAAO,CAACC,UAAR,IAAsBpB,IAAI,CAACqB,QAA/B;gBAAA,CAA1B,EAAmEC;cAAtH,EAZF;YAAA,EATF,EAyBE,KAAC,IAAD;cAAM,KAAK,EAAE;gBAAEZ,aAAa,EAAE;cAAjB,CAAb;cAAA,UACE,KAAC,SAAD;gBAAW,KAAK,EAAE;kBAChBb,KAAK,EAAE,MADS;kBAEhBK,MAAM,EAAE,EAFQ;kBAGhBK,eAAe,EAAE,WAHD;kBAIhBgB,UAAU,EAAE,QAJI;kBAKhBC,cAAc,EAAE,QALA;kBAMhBnB,YAAY,EAAE;gBANE,CAAlB;gBAQE,OAAO,EAAE;kBAAA,IAAG1B,KAAH,SAAGA,KAAH;kBAAA,OAAgB;oBACvB8C,KAAK,EAAE9C,KAAK,CAAC+C,MAAN,CAAaD;kBADG,CAAhB;gBAAA,CARX;gBAAA,UAWE,KAAC,QAAD;kBAAU,IAAI,EAAC,mBAAf;kBAAmC,IAAI,EAAE,EAAzC;kBAA6C,KAAK,EAAE;gBAApD;cAXF;YADF,EAzBF;UAAA,GAQQxB,KARR,CADU;QAAA;MANd;IAFF;EADF,EADF;AAyDD;AAED,IAAMP,MAAM,GAAGiC,UAAU,CAACC,MAAX,CAAkB;EAC/BjC,SAAS,EAAE;IACTkC,IAAI,EAAE,CADG;IAETL,cAAc,EAAE,QAFP;IAGTD,UAAU,EAAE,QAHH;IAIThB,eAAe,EAAE;EAJR,CADoB;EAO/BC,QAAQ,EAAE;IACRqB,IAAI,EAAE,CADE;IAERvB,YAAY,EAAE,EAFN;IAGRG,UAAU,EAAE,CAHJ;IAIRP,MAAM,EAAE;EAJA,CAPqB;EAa/BN,SAAS,EAAE;IACTiC,IAAI,EAAE,CADG;IAETxB,YAAY,EAAE,EAFL;IAGTyB,WAAW,EAAE,OAHJ;IAITC,aAAa,EAAE,IAJN;IAKTC,YAAY,EAAE;MAAEnC,KAAK,EAAE,CAAT;MAAYK,MAAM,EAAE;IAApB,CALL;IAMT+B,YAAY,EAAE,EANL;IAOTC,SAAS,EAAE,CAPF;IAQTpC,OAAO,EAAE,EARA;IAST0B,cAAc,EAAE;EATP,CAboB;EAwB/BW,OAAO,EAAE;IACPtC,KAAK,EAAE,MADA;IAEPK,MAAM,EAAE,GAFD;IAGPkC,SAAS,EAAE,CAAC,CAHL;IAIP/B,YAAY,EAAE;EAJP,CAxBsB;EA8B/BoB,KAAK,EAAE;IACLT,QAAQ,EAAE,EADL;IAELC,UAAU,EAAE,MAFP;IAGLoB,SAAS,EAAE;EAHN,CA9BwB;EAmC/BC,YAAY,EAAE;IACZT,IAAI,EAAE,CADM;IAEZL,cAAc,EAAE,QAFJ;IAGZD,UAAU,EAAE,QAHA;IAIZa,SAAS,EAAE;EAJC,CAnCiB;EAyC/BG,SAAS,EAAE;IACThC,eAAe,EAAE,OADR;IAETF,YAAY,EAAE,CAFL;IAGTP,OAAO,EAAE,EAHA;IAITD,KAAK,EAAE,MAJE;IAKTK,MAAM,EAAE,GALC;IAMTqB,UAAU,EAAE,QANH;IAOTV,QAAQ,EAAE,UAPD;IAQT2B,MAAM,EAAE,CARC;IASTV,WAAW,EAAE,MATJ;IAUTE,YAAY,EAAE;MACZnC,KAAK,EAAE,CADK;MAEZK,MAAM,EAAE;IAFI,CAVL;IAcT6B,aAAa,EAAE,GAdN;IAeTE,YAAY,EAAE,CAfL;IAgBTC,SAAS,EAAE;EAhBF,CAzCoB;EA2D/BO,MAAM,EAAE;IACNpC,YAAY,EAAE,CADR;IAENP,OAAO,EAAE,EAFH;IAGNoC,SAAS,EAAE;EAHL,CA3DuB;EAgE/BQ,SAAS,EAAE;IACTC,KAAK,EAAE,OADE;IAET1B,UAAU,EAAE,MAFH;IAGToB,SAAS,EAAE;EAHF,CAhEoB;EAqE/BO,SAAS,EAAE;IACTtC,YAAY,EAAE,CADL;IAET+B,SAAS,EAAE;EAFF;AArEoB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}