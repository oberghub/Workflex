{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { useState, useEffect } from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { db } from \"../../database/firebase\";\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CommunityScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      newPost = _useState2[0],\n      setNewPost = _useState2[1];\n\n  var postIdGenerate = function postIdGenerate() {\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n  };\n\n  useEffect(function () {\n    var getData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var postData = yield getDocs(collection(db, 'post'));\n        console.log(postData.docs.map(function (doc) {\n          return doc.data();\n        }));\n      });\n\n      return function getData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getData();\n  }, []);\n\n  var _useState3 = useState([{\n    postId: \"post1\",\n    userName: \"U0012835\",\n    postTitle: \"วันเสาร์-อาทิตย์ ผมกินพิซซ่าได้ไหมครับพรี่\",\n    timeStamp: \"14 Oct 2022 , 21:05\",\n    likeCount: 102\n  }, {\n    postId: \"post2\",\n    userName: \"U0086477\",\n    postTitle: \"ออกกำลังกายเวลาไหนดีคะทุกคนน\",\n    timeStamp: \"14 Oct 2022 , 23:10\",\n    likeCount: 73\n  }, {\n    postId: \"post3\",\n    userName: \"U0086221\",\n    postTitle: \"เหงาๆ อยากโดนเหลากระบาล\",\n    timeStamp: \"7 Nov 2022 , 17:03\",\n    likeCount: 3\n  }]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      feedData = _useState4[0],\n      setFeedData = _useState4[1];\n\n  var _useState5 = useState([{\n    commentId: \"comment1\",\n    comment: \"ได้ครับ แต่อย่าเยอะนะ ^^\",\n    timeStamp: \"14 Oct 2022 , 22:11\",\n    byUserName: \"T090041\",\n    postId: \"post1\"\n  }, {\n    commentId: \"comment2\",\n    comment: \"กินด้วยจิ ^^\",\n    timeStamp: \"14 Oct 2022 , 22:28\",\n    byUserName: \"T090663\",\n    postId: \"post1\"\n  }, {\n    commentId: \"comment3\",\n    comment: \"Cheat Day ก็ดีนะ 5555\",\n    timeStamp: \"14 Oct 2022 , 22:53\",\n    byUserName: \"T090722\",\n    postId: \"post1\"\n  }, {\n    commentId: \"comment4\",\n    comment: \"ออกตอนไหนก็ได้ครับ ขอไม่ขี้เกียจก็พอ อิอิ\",\n    timeStamp: \"14 Oct 2022 , 23:15\",\n    byUserName: \"T090854\",\n    postId: \"post2\"\n  }]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      commentData = _useState6[0],\n      setCommentData = _useState6[1];\n\n  var _useState7 = useState([{\n    likedId: \"like01\",\n    postId: \"post02\",\n    byUserName: \"T090854\",\n    liked: true\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      likedData = _useState8[0],\n      setLikedData = _useState8[1];\n\n  var user = useSelector(function (state) {\n    return state.user_data.user;\n  });\n\n  var sendAPost = function sendAPost() {\n    var getDate = new Date() + \"\";\n    var date = getDate.substring(8, 10) + \" \" + getDate.substring(4, 7) + \" \" + getDate.substring(11, 15);\n    var time = getDate.substring(16, 21);\n\n    if (newPost == \"\") {\n      console.log(\"\");\n    } else {\n      var postId = postIdGenerate();\n\n      var lst = _toConsumableArray(feedData);\n\n      var idcount = lst.length + 1;\n      lst.push({\n        postId: \"post\" + idcount,\n        userName: \"แกะนิรนาม\",\n        postTitle: newPost,\n        timeStamp: date + \" , \" + time,\n        likeCount: 0\n      });\n\n      try {\n        addDoc(collection(db, \"post\"), {\n          postId: postId,\n          userName: user.displayName,\n          postTitle: newPost,\n          timeStamp: date + \" , \" + time,\n          likeCount: 0,\n          uid: user.uid\n        });\n      } catch (e) {\n        console.log(e);\n      }\n\n      setFeedData(lst);\n      setNewPost(\"\");\n    }\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: {\n        flexDirection: 'row',\n        width: '100%',\n        height: 70,\n        paddingLeft: 20,\n        paddingTop: 10\n      },\n      children: _jsx(View, {\n        style: {\n          width: '50%'\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 28,\n            fontWeight: '700'\n          },\n          children: \"Feeds\"\n        })\n      })\n    }), _jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        width: '100%',\n        padding: 20\n      },\n      children: [_jsx(TextInput, {\n        style: {\n          borderWidth: 1,\n          borderColor: 'lightgray',\n          borderRadius: 5,\n          width: '75%',\n          height: 'auto',\n          marginTop: -10,\n          paddingLeft: 10,\n          paddingTop: 10\n        },\n        placeholder: \"Write your post\",\n        multiline: true,\n        numberOfLines: 4,\n        onChangeText: setNewPost,\n        value: newPost\n      }), _jsx(TouchableOpacity, {\n        style: {\n          height: 40,\n          borderRadius: 5,\n          backgroundColor: 'lightblue',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '20%',\n          marginTop: -10,\n          marginLeft: 14\n        },\n        onPress: function onPress() {\n          sendAPost();\n        },\n        children: _jsx(Text, {\n          style: {\n            color: 'white',\n            fontWeight: '600',\n            fontSize: 16\n          },\n          children: \"Post\"\n        })\n      })]\n    }), _jsx(FlatList, {\n      style: {\n        width: '100%',\n        paddingLeft: 20,\n        paddingRight: 20\n      },\n      data: feedData,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item,\n            index = _ref3.index;\n        return _jsxs(View, {\n          style: {\n            width: '100%',\n            height: 'auto',\n            borderWidth: 1,\n            borderColor: 'lightgray',\n            borderRadius: 5,\n            padding: 15,\n            marginBottom: 10\n          },\n          children: [_jsxs(View, {\n            style: {\n              flexDirection: 'row',\n              width: '100%'\n            },\n            children: [_jsx(View, {\n              style: {\n                width: '50%'\n              },\n              children: _jsx(Text, {\n                style: {\n                  fontWeight: '600'\n                },\n                children: item.userName\n              })\n            }), _jsx(View, {\n              style: {\n                position: 'absolute',\n                right: 0\n              },\n              children: _jsxs(Text, {\n                children: [item.timeStamp.split(',')[1], \" \\u0E19.\"]\n              })\n            })]\n          }), _jsx(View, {\n            style: {\n              marginTop: 17,\n              marginBottom: 17\n            },\n            children: _jsx(Text, {\n              children: item.postTitle\n            })\n          }), _jsxs(View, {\n            style: {\n              flexDirection: 'row'\n            },\n            children: [_jsx(TouchableOpacity, {\n              children: _jsx(Ionicons, {\n                name: \"ios-heart-outline\",\n                size: 22,\n                color: 'black'\n              })\n            }), _jsx(Text, {\n              style: {\n                marginLeft: 5,\n                marginTop: 4,\n                marginRight: 10\n              },\n              children: item.likeCount\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate('Post Detail', {\n                  postData: item,\n                  commentData: commentData.filter(function (data) {\n                    return data.postId == item.postId;\n                  })\n                });\n              },\n              children: _jsx(Ionicons, {\n                name: \"ios-chatbubble-outline\",\n                size: 22,\n                color: 'black'\n              })\n            }), _jsx(Text, {\n              style: {\n                marginLeft: 5,\n                marginTop: 4\n              },\n              children: commentData.filter(function (data) {\n                return data.postId == item.postId;\n              }).length\n            }), _jsx(Text, {\n              style: {\n                position: 'absolute',\n                right: 0\n              },\n              children: item.timeStamp.split(',')[0]\n            })]\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    paddingTop: 20\n  }\n});","map":{"version":3,"names":["Ionicons","useState","useEffect","db","collection","addDoc","getDocs","useSelector","CommunityScreen","route","navigation","newPost","setNewPost","postIdGenerate","Date","now","toString","Math","random","substring","getData","postData","console","log","docs","map","doc","data","postId","userName","postTitle","timeStamp","likeCount","feedData","setFeedData","commentId","comment","byUserName","commentData","setCommentData","likedId","liked","likedData","setLikedData","user","state","user_data","sendAPost","getDate","date","time","lst","idcount","length","push","displayName","uid","e","styles","container","flexDirection","width","height","paddingLeft","paddingTop","fontSize","fontWeight","padding","borderWidth","borderColor","borderRadius","marginTop","backgroundColor","alignItems","justifyContent","marginLeft","color","paddingRight","item","index","marginBottom","position","right","split","marginRight","navigate","filter","StyleSheet","create","flex"],"sources":["C:/mdp-proj-2022/screens/Community/CommunityScreen.js"],"sourcesContent":["import { Ionicons } from '@expo/vector-icons';\r\nimport { useState, useEffect } from 'react';\r\nimport { TouchableOpacity, TextInput } from 'react-native';\r\nimport { FlatList } from 'react-native';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\n//Store data to firebase\r\nimport { db } from '../../database/firebase';\r\nimport { collection, addDoc, getDocs} from 'firebase/firestore';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function CommunityScreen({route, navigation}) {\r\n  const [newPost, setNewPost] = useState(\"\")\r\n  const postIdGenerate = () => {\r\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\r\n  }\r\n\r\n  //Fetch Data\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const postData = await getDocs(collection(db, 'post'))\r\n      console.log(postData.docs.map(doc => doc.data()))\r\n    }\r\n    getData()\r\n  }, [])\r\n\r\n\r\n  const [feedData, setFeedData] = useState([\r\n    {\r\n     postId : \"post1\",\r\n     userName : \"U0012835\",\r\n     postTitle : \"วันเสาร์-อาทิตย์ ผมกินพิซซ่าได้ไหมครับพรี่\", \r\n     timeStamp : \"14 Oct 2022 , 21:05\",\r\n     likeCount : 102,\r\n    },\r\n    {postId : \"post2\",\r\n     userName : \"U0086477\",\r\n     postTitle : \"ออกกำลังกายเวลาไหนดีคะทุกคนน\", \r\n     timeStamp : \"14 Oct 2022 , 23:10\",\r\n     likeCount : 73,\r\n    },\r\n    {postId : \"post3\",\r\n     userName : \"U0086221\",\r\n     postTitle : \"เหงาๆ อยากโดนเหลากระบาล\", \r\n     timeStamp : \"7 Nov 2022 , 17:03\",\r\n     likeCount : 3,\r\n    }\r\n  ])\r\n  const [commentData, setCommentData] = useState([\r\n    {commentId : \"comment1\",\r\n     comment : \"ได้ครับ แต่อย่าเยอะนะ ^^\", \r\n     timeStamp : \"14 Oct 2022 , 22:11\",\r\n     byUserName : \"T090041\",\r\n     postId : \"post1\"\r\n    },\r\n    {commentId : \"comment2\",\r\n     comment : \"กินด้วยจิ ^^\",\r\n     timeStamp : \"14 Oct 2022 , 22:28\",\r\n     byUserName : \"T090663\",\r\n     postId : \"post1\"\r\n    },\r\n    {commentId : \"comment3\",\r\n     comment : \"Cheat Day ก็ดีนะ 5555\",\r\n     timeStamp : \"14 Oct 2022 , 22:53\",\r\n     byUserName : \"T090722\",\r\n     postId : \"post1\"\r\n    },\r\n    {commentId : \"comment4\",\r\n     comment : \"ออกตอนไหนก็ได้ครับ ขอไม่ขี้เกียจก็พอ อิอิ\",\r\n     timeStamp : \"14 Oct 2022 , 23:15\",\r\n     byUserName : \"T090854\",\r\n     postId : \"post2\"\r\n    }\r\n  ])\r\n  const [likedData, setLikedData] = useState([\r\n    {\r\n      likedId : \"like01\",\r\n      postId : \"post02\",\r\n      byUserName : \"T090854\",\r\n      liked : true\r\n    }\r\n  ])\r\n  const user = useSelector((state) => state.user_data.user)\r\n\r\n  const sendAPost = () => {\r\n    let getDate = new Date()+\"\"\r\n    let date = getDate.substring(8, 10) + \" \" + getDate.substring(4, 7) + \" \" + getDate.substring(11, 15)\r\n    let time = getDate.substring(16, 21)\r\n\r\n\r\n    if(newPost == \"\"){\r\n      console.log(\"\")\r\n    }\r\n    else{\r\n      const postId = postIdGenerate()\r\n      let lst = [...feedData]\r\n      let idcount = lst.length+1\r\n      lst.push({\r\n        postId : \"post\"+idcount,\r\n        userName : \"แกะนิรนาม\",\r\n        postTitle : newPost,\r\n        timeStamp : date + \" , \" + time,\r\n        likeCount : 0\r\n      })\r\n      try{\r\n        addDoc(collection(db, \"post\"), {\r\n          postId : postId,\r\n          userName : user.displayName,\r\n          postTitle : newPost,\r\n          timeStamp : date + \" , \" + time,\r\n          likeCount : 0,\r\n          uid : user.uid\r\n        })\r\n      }\r\n      catch(e){\r\n        console.log(e)\r\n      }\r\n      setFeedData(lst)\r\n      setNewPost(\"\")\r\n    }\r\n  }\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{flexDirection : 'row',\r\n                    width : '100%',\r\n                    height : 70,\r\n                    paddingLeft : 20,\r\n                    paddingTop : 10}}>\r\n        <View style={{width : '50%'}}>\r\n            <Text style={{fontSize : 28, fontWeight : '700'}}>Feeds</Text>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{flexDirection : 'row', width : '100%', padding : 20}}>\r\n          <TextInput style={{borderWidth : 1,\r\n                            borderColor : 'lightgray',\r\n                            borderRadius : 5,\r\n                            width : '75%',\r\n                            height : 'auto',\r\n                            marginTop : -10,\r\n                            paddingLeft : 10,\r\n                            paddingTop : 10}}\r\n                      placeholder=\"Write your post\"\r\n                      multiline={true}\r\n                      numberOfLines={4}\r\n                      onChangeText={setNewPost}\r\n                      value={newPost} />\r\n          <TouchableOpacity style={{height : 40, \r\n                                    borderRadius : 5,\r\n                                    backgroundColor : 'lightblue', \r\n                                    alignItems : 'center', \r\n                                    justifyContent : 'center',\r\n                                    width : '20%', marginTop : -10, marginLeft : 14}}\r\n                                    onPress={() => {sendAPost()}}>\r\n            <Text style={{color : 'white', fontWeight : '600', fontSize : 16}}>Post</Text>\r\n          </TouchableOpacity>\r\n      </View>\r\n\r\n      <FlatList style={{width : '100%', paddingLeft : 20, paddingRight : 20}}\r\n        data={feedData} renderItem={({item, index}) => {\r\n          return <View\r\n                  style={{width : '100%',\r\n                  height : 'auto',\r\n                  borderWidth : 1,\r\n                  borderColor : 'lightgray',\r\n                  borderRadius : 5,\r\n                  padding : 15, marginBottom : 10}}>\r\n                  <View style={{flexDirection : 'row', width : '100%'}}>\r\n                    <View style={{width : '50%'}}>\r\n                      <Text style={{fontWeight : '600'}}>{item.userName}</Text>\r\n                    </View>\r\n                    <View style={{position : 'absolute', right : 0}}>\r\n                      <Text>{item.timeStamp.split(',')[1]} น.</Text>\r\n                    </View>\r\n                  </View>\r\n\r\n                  <View style={{marginTop : 17, marginBottom : 17}}>\r\n                    <Text>{item.postTitle}</Text>\r\n                  </View>\r\n\r\n                  <View style={{flexDirection : 'row',}}>\r\n                      <TouchableOpacity>\r\n                        <Ionicons name='ios-heart-outline' size={22} color={'black'}/>\r\n                      </TouchableOpacity>\r\n\r\n                      <Text style={{marginLeft : 5, marginTop : 4, marginRight : 10}}>{item.likeCount}</Text>\r\n\r\n                      <TouchableOpacity onPress={() => {\r\n                        navigation.navigate('Post Detail', { postData : item, commentData : commentData.filter(data => data.postId == item.postId) })\r\n                      }}>\r\n                        <Ionicons name='ios-chatbubble-outline' size={22} color={'black'}/>\r\n                      </TouchableOpacity>\r\n\r\n                      <Text style={{marginLeft : 5, marginTop : 4}}>{commentData.filter(data => data.postId == item.postId).length}</Text>\r\n\r\n                      <Text style={{position : 'absolute', right : 0}}>{item.timeStamp.split(',')[0]}</Text>\r\n                  </View>\r\n          </View>\r\n        }}/>\r\n\r\n      {/* <Text>Community</Text>\r\n      <Button title='Post Detail' onPress={() => {navigation.navigate('Post Detail')}} /> */}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    paddingTop : 20,\r\n    // justifyContent: 'center',\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}