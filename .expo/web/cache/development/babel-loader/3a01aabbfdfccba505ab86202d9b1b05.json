{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { db } from \"../../database/firebase\";\nimport { collection, addDoc, onSnapshot, query, where, deleteDoc, doc, updateDoc } from 'firebase/firestore';\nimport { useSelector } from 'react-redux';\nimport { Ionicons } from '@expo/vector-icons';\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MyCoursesScreen = function MyCoursesScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    refreshing = _useState2[0],\n    setRefreshing = _useState2[1];\n  var user = useSelector(function (state) {\n    return state.user_data.user;\n  });\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    courseData = _useState4[0],\n    setCourseData = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    courseDocId = _useState6[0],\n    setCourseDocId = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    postureData = _useState8[0],\n    setPostureData = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    postureDocId = _useState10[0],\n    setPostureDocId = _useState10[1];\n  useEffect(function () {\n    var mycourse = query(collection(db, 'mycourse'), where(\"uid\", \"==\", user.uid));\n    onSnapshot(mycourse, function (snapshot) {\n      setCourseData(snapshot.docs.map(function (doc) {\n        return doc.data();\n      }));\n      setCourseDocId(snapshot.docs.map(function (doc) {\n        return doc.id;\n      }));\n    });\n    var posture = query(collection(db, 'posture'), where(\"uid\", \"==\", user.uid));\n    onSnapshot(posture, function (snapshot) {\n      setPostureData(snapshot.docs.map(function (doc) {\n        return doc.data();\n      }));\n      setPostureDocId(snapshot.docs.map(function (doc) {\n        return doc.id;\n      }));\n    });\n  }, []);\n  var sumOfSec = function sumOfSec(time) {\n    if (time.length != 0) {\n      var min = parseInt(time.reduce(function (prev, curr) {\n        return prev + 15 + curr;\n      }, 0) / 60);\n      var sec = time.reduce(function (prev, curr) {\n        return prev + 15 + curr;\n      }) % 60;\n      return min == 0 ? \" : \" + sec + \" วินาที\" : \" : \" + min + \" นาที \" + sec + \" วินาที\";\n    }\n  };\n  var deleteMyCourse = function deleteMyCourse(docId, id) {\n    Alert.alert(\"ลบ\", \"ต้องการลบคอร์สของคุณหรือไม่\", [{\n      text: 'ยกเลิก',\n      onPress: function onPress() {\n        console.log(\"Process has canceled.\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"ตกลง\",\n      onPress: function onPress() {\n        try {\n          deleteDoc(doc(db, 'mycourse', docId));\n\n          for (var i = 0; i < id.length; i++) {\n            deleteDoc(doc(db, 'posture', postureDocId[id[i]]));\n          }\n          console.log(\"delete sucess\");\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    }]);\n  };\n  var pullMe = function pullMe() {\n    setRefreshing(true);\n    setTimeout(function () {\n      setRefreshing(false);\n      console.log(\"Refresh...\");\n    }, 1000);\n  };\n  if (courseData.length == 0) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 18,\n          fontWeight: '500',\n          color: 'lightgray'\n        },\n        children: \"\\u0E42\\u0E2D\\u0E49! \\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E04\\u0E2D\\u0E23\\u0E4C\\u0E2A\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13 \\u0E01\\u0E14\\u0E17\\u0E35\\u0E48 + \\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate(\"New Course\");\n        },\n        children: _jsx(Ionicons, {\n          name: \"ios-add-circle-outline\",\n          size: 150,\n          color: 'lightgray'\n        })\n      }), _jsx(TouchableOpacity, {\n        refreshControl: _jsx(RefreshControl, {\n          refreshing: refreshing,\n          onRefresh: function onRefresh() {\n            pullMe();\n          }\n        }),\n        onPress: function onPress() {\n          pullMe();\n        },\n        style: {},\n        children: _jsx(Ionicons, {\n          name: \"ios-refresh\",\n          size: 30,\n          color: 'lightgray'\n        })\n      })]\n    });\n  } else {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(View, {\n        style: [styles.shadowbox, {\n          width: \"100%\",\n          padding: 10\n        }],\n        children: _jsx(FlatList, {\n          data: courseData,\n          refreshControl: _jsx(RefreshControl, {\n            refreshing: refreshing,\n            onRefresh: function onRefresh() {\n              pullMe();\n            }\n          }),\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item,\n              index = _ref2.index;\n            return _jsxs(View, {\n              style: {\n                height: 'auto',\n                width: '100%',\n                borderWidth: 1,\n                borderColor: 'lightgray',\n                borderRadius: 10,\n                marginBottom: 15,\n                backgroundColor: item.backgroundColor\n              },\n              children: [_jsxs(View, {\n                style: [{\n                  padding: 10,\n                  paddingTop: 15\n                }],\n                children: [_jsxs(View, {\n                  style: {\n                    flexDirection: 'row'\n                  },\n                  children: [_jsx(View, {\n                    style: {\n                      width: '80%',\n                      height: 'auto'\n                    },\n                    children: _jsx(Text, {\n                      style: [styles.txtImg, {\n                        marginBottom: 15\n                      }],\n                      children: item.courseName\n                    })\n                  }), _jsx(TouchableOpacity, {\n                    style: {\n                      position: 'absolute',\n                      right: 0,\n                      top: 5\n                    },\n                    onPress: function onPress() {\n                      deleteMyCourse(courseDocId[index], postureData.map(function (data, index) {\n                        return data.byCourseId == item.courseId ? index : null;\n                      }).filter(function (data) {\n                        return data != null;\n                      }));\n                    },\n                    children: _jsx(Ionicons, {\n                      name: \"ios-trash-outline\",\n                      size: 20,\n                      color: 'black'\n                    })\n                  })]\n                }), _jsxs(Text, {\n                  style: {\n                    fontSize: 18,\n                    fontWeight: '500'\n                  },\n                  children: [postureData.filter(function (posture) {\n                    return posture.byCourseId == item.courseId;\n                  }).length, \" \\u0E17\\u0E48\\u0E32\", sumOfSec(postureData.filter(function (data) {\n                    return data.byCourseId == item.courseId;\n                  }).map(function (data) {\n                    return data.timeDuration;\n                  }))]\n                })]\n              }), _jsx(View, {\n                style: {\n                  flexDirection: 'column'\n                },\n                children: _jsx(Pressable, {\n                  style: {\n                    width: '100%',\n                    height: 40,\n                    backgroundColor: 'lightblue',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    borderRadius: 5\n                  },\n                  onPress: function onPress() {\n                    navigation.navigate(\"My Course Detail\", {\n                      exerciseList: postureData,\n                      courseId: item.courseId,\n                      title: item.courseName\n                    });\n                  },\n                  options: function options(_ref3) {\n                    var route = _ref3.route;\n                    return {\n                      title: route.params.title\n                    };\n                  },\n                  children: _jsx(Ionicons, {\n                    name: \"ios-enter-outline\",\n                    size: 20,\n                    color: 'black'\n                  })\n                })\n              })]\n            }, index);\n          }\n        })\n      }), _jsx(Text, {\n        style: {\n          color: 'lightgray',\n          marginBottom: 9\n        },\n        children: \"If these list haven't update, please pull page to refresh.\"\n      })]\n    });\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: 'white'\n  },\n  txtImg: {\n    fontSize: 32,\n    fontWeight: '700',\n    color: \"#000\"\n  },\n\n  shadowbox: {\n    flex: 1,\n    borderRadius: 10,\n    shadowColor: \"black\",\n    shadowOpacity: 0.26,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 10,\n    elevation: 3,\n    padding: 20,\n    justifyContent: \"flex-end\"\n  },\n  bgImage: {\n    width: \"100%\",\n    height: 250,\n    marginTop: -5,\n    borderRadius: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: 'center'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    borderRadius: 5,\n    padding: 35,\n    width: '100%',\n    height: 500,\n    alignItems: \"center\",\n    position: 'absolute',\n    bottom: 0,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 5,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 5,\n    textAlign: \"center\"\n  }\n});\nexport default MyCoursesScreen;","map":{"version":3,"names":["React","useEffect","useState","db","collection","addDoc","onSnapshot","query","where","deleteDoc","doc","updateDoc","useSelector","Ionicons","MyCoursesScreen","route","navigation","refreshing","setRefreshing","user","state","user_data","courseData","setCourseData","courseDocId","setCourseDocId","postureData","setPostureData","postureDocId","setPostureDocId","mycourse","uid","snapshot","docs","map","data","id","posture","sumOfSec","time","length","min","parseInt","reduce","prev","curr","sec","deleteMyCourse","docId","Alert","alert","text","onPress","console","log","style","i","e","pullMe","setTimeout","styles","container","fontSize","fontWeight","color","navigate","shadowbox","width","padding","item","index","height","borderWidth","borderColor","borderRadius","marginBottom","backgroundColor","paddingTop","flexDirection","txtImg","courseName","position","right","top","byCourseId","courseId","filter","timeDuration","alignItems","justifyContent","exerciseList","title","params","StyleSheet","create","flex","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","bgImage","marginTop","textAlign","centeredView","modalView","bottom","button","textStyle","modalText"],"sources":["C:/Users/LENOVO/OneDrive/เอกสาร/GitHub/mdp-proj-2022/screens/MyCourses/MyCoursesScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, FlatList, TouchableOpacity, RefreshControl, TextInput, Modal, Alert } from 'react-native';\r\nimport { db } from '../../database/firebase';\r\nimport { collection, addDoc, onSnapshot, query, where, deleteDoc, doc, updateDoc } from 'firebase/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { Pressable } from 'react-native';\r\nconst MyCoursesScreen = ({ route, navigation }) => {\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const user = useSelector((state) => state.user_data.user)\r\n\r\n  const [courseData, setCourseData] = useState([])\r\n  const [courseDocId, setCourseDocId] = useState([])\r\n  const [postureData, setPostureData] = useState([])\r\n  const [postureDocId, setPostureDocId] = useState([])\r\n  useEffect(() => {\r\n\r\n    //Query comment from postId\r\n    const mycourse = query(collection(db, 'mycourse'), where(\"uid\", \"==\", user.uid))\r\n    onSnapshot(mycourse, (snapshot) => {\r\n      setCourseData(snapshot.docs.map(doc => doc.data()))\r\n      setCourseDocId(snapshot.docs.map(doc => doc.id))\r\n    })\r\n    //Query comment from postId\r\n    const posture = query(collection(db, 'posture'), where(\"uid\", \"==\", user.uid))\r\n    onSnapshot(posture, (snapshot) => {\r\n      setPostureData(snapshot.docs.map(doc => doc.data()))\r\n      setPostureDocId(snapshot.docs.map(doc => doc.id))\r\n    })\r\n\r\n  }, [])\r\n\r\n  const sumOfSec = (time) => {\r\n    if (time.length != 0) {\r\n      const min = parseInt(time.reduce((prev, curr) => (prev+15) + curr, 0) / 60)\r\n      const sec = time.reduce((prev, curr) => (prev+15) + curr) % 60\r\n      return min == 0 ? \" : \" + sec + \" วินาที\" : \" : \" + min + \" นาที \" + sec + \" วินาที\"\r\n    }\r\n  }\r\n  const deleteMyCourse = (docId, id) => {\r\n    Alert.alert(\r\n      \"ลบ\",\r\n      \"ต้องการลบคอร์สของคุณหรือไม่\",\r\n      [\r\n        {\r\n          text: 'ยกเลิก',\r\n          onPress: () => { console.log(\"Process has canceled.\") },\r\n          style: \"cancel\"\r\n        },\r\n        {\r\n          text: \"ตกลง\",\r\n          onPress: () => {\r\n            try {\r\n              deleteDoc(doc(db, 'mycourse', docId))\r\n\r\n              //Delete multiple record\r\n              for (let i = 0; i < id.length; i++) {\r\n                deleteDoc(doc(db, 'posture', postureDocId[id[i]]))\r\n              }\r\n              console.log(\"delete sucess\")\r\n            }\r\n            catch (e) {\r\n              console.log(e)\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    )\r\n  }\r\n  const pullMe = () => {\r\n    setRefreshing(true)\r\n\r\n    setTimeout(() => {\r\n      setRefreshing(false)\r\n      console.log(\"Refresh...\")\r\n    }, 1000)\r\n  }\r\n  if (courseData.length == 0) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Text style={{ fontSize: 18, fontWeight: '500', color: 'lightgray' }}>โอ้! ไม่พบคอร์สของคุณ กดที่ + เพื่อเพิ่ม</Text>\r\n        <TouchableOpacity onPress={() => {\r\n          navigation.navigate(\"New Course\")\r\n        }}>\r\n          <Ionicons name=\"ios-add-circle-outline\" size={150} color={'lightgray'}></Ionicons>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          refreshControl={\r\n            <RefreshControl\r\n              refreshing={refreshing}\r\n              onRefresh={() => { pullMe() }} />\r\n          }\r\n          onPress={() => { pullMe() }}\r\n          style={{}}\r\n        >\r\n          <Ionicons name=\"ios-refresh\" size={30} color={'lightgray'} />\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <View style={styles.container}>\r\n\r\n        <View style={[styles.shadowbox, { width: \"100%\", padding: 10 }]}>\r\n\r\n          <FlatList data={courseData}\r\n            refreshControl={\r\n              <RefreshControl\r\n                refreshing={refreshing}\r\n                onRefresh={() => { pullMe() }} />\r\n            }\r\n            renderItem={({ item, index }) =>\r\n              <View style={{\r\n                height: 'auto',\r\n                width: '100%',\r\n                borderWidth: 1,\r\n                borderColor: 'lightgray',\r\n                borderRadius: 10,\r\n                marginBottom: 15,\r\n                backgroundColor: item.backgroundColor\r\n              }} key={index}>\r\n                <View style={[{ padding: 10, paddingTop: 15 }]}>\r\n                  <View style={{ flexDirection: 'row', }}>\r\n                    <View style={{width : '80%', height : 'auto'}}>\r\n                      <Text style={[styles.txtImg, { marginBottom: 15 }]}>{item.courseName}</Text>\r\n                    </View>\r\n                    <TouchableOpacity style={{\r\n                      position: 'absolute',\r\n                      right: 0,\r\n                      top: 5\r\n                    }}\r\n                      onPress={() => {\r\n                        deleteMyCourse(courseDocId[index], postureData.map((data, index) => data.byCourseId == item.courseId ? index : null).filter(data => data != null))\r\n                      }}\r\n                    >\r\n                      <Ionicons name='ios-trash-outline' size={20} color={'black'} />\r\n\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <Text style={{ fontSize: 18, fontWeight: '500' }}>{postureData.filter(posture => posture.byCourseId == item.courseId).length} ท่า\r\n                    {sumOfSec(postureData.filter(data => data.byCourseId == item.courseId).map(data => data.timeDuration))}\r\n                  </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'column' }}>\r\n                  <Pressable style={{\r\n                    width: '100%',\r\n                    height: 40,\r\n                    backgroundColor: 'lightblue',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5\r\n                  }}\r\n                    onPress={() => {\r\n                      navigation.navigate(\"My Course Detail\", { exerciseList: postureData, courseId: item.courseId, title: item.courseName })\r\n                    }}\r\n                    options={({ route }) => ({\r\n                      title: route.params.title,\r\n                    })}>\r\n                    <Ionicons name='ios-enter-outline' size={20} color={'black'} />\r\n\r\n                  </Pressable>\r\n                </View>\r\n              </View>\r\n\r\n            } />\r\n        </View>\r\n        <Text style={{ color: 'lightgray', marginBottom: 9 }}>If these list haven't update, please pull page to refresh.</Text>\r\n        {/* <TouchableOpacity style={{\r\n          width : '100%', height : 40, backgroundColor : 'black'\r\n        }} onPress={() => {console.log(courseData)}}>\r\n\r\n        </TouchableOpacity> */}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: 'white'\r\n  },\r\n  txtImg: {\r\n    //fontFamily: 'Kanit_400Regular', //เอาไว้ค่อย import มาใหม่\r\n    fontSize: 32,\r\n    fontWeight: '700',\r\n    color: \"#000\",\r\n    // textShadowColor:'#585858',\r\n    // textShadowOffset:{width: 5, height: 5},\r\n    // textShadowRadius:10,\r\n  },\r\n  shadowbox: {\r\n    flex: 1,\r\n    borderRadius: 10,\r\n    shadowColor: \"black\",\r\n    shadowOpacity: 0.26,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowRadius: 10,\r\n    elevation: 3,\r\n    padding: 20,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  bgImage: {\r\n    width: \"100%\",\r\n    height: 250,\r\n    marginTop: -5,\r\n    borderRadius: 10,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    textAlign: 'center',\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  modalView: {\r\n    backgroundColor: \"white\",\r\n    borderRadius: 5,\r\n    padding: 35,\r\n    width: '100%',\r\n    height: 500,\r\n    alignItems: \"center\",\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.5,\r\n    shadowRadius: 4,\r\n    elevation: 5\r\n  },\r\n  button: {\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    elevation: 2\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  modalText: {\r\n    marginBottom: 5,\r\n    textAlign: \"center\"\r\n  }\r\n});\r\n\r\nexport default MyCoursesScreen;\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEnD,SAASC,EAAE;AACX,SAASC,UAAU,EAAEC,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,SAAS,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AAC5G,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,QAAQ,QAAQ,oBAAoB;AAAC;AAAA;AAAA;AAE9C,IAAMC,eAAe,GAAG,SAAlBA,eAAe,OAA8B;EAAA,IAAxBC,KAAK,QAALA,KAAK;IAAEC,UAAU,QAAVA,UAAU;EAC1C,gBAAoCd,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5Ce,UAAU;IAAEC,aAAa;EAChC,IAAMC,IAAI,GAAGP,WAAW,CAAC,UAACQ,KAAK;IAAA,OAAKA,KAAK,CAACC,SAAS,CAACF,IAAI;EAAA,EAAC;EAEzD,iBAAoCjB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAzCoB,UAAU;IAAEC,aAAa;EAChC,iBAAsCrB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CsB,WAAW;IAAEC,cAAc;EAClC,iBAAsCvB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CwB,WAAW;IAAEC,cAAc;EAClC,iBAAwCzB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7C0B,YAAY;IAAEC,eAAe;EACpC5B,SAAS,CAAC,YAAM;IAGd,IAAM6B,QAAQ,GAAGvB,KAAK,CAACH,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAAEK,KAAK,CAAC,KAAK,EAAE,IAAI,EAAEW,IAAI,CAACY,GAAG,CAAC,CAAC;IAChFzB,UAAU,CAACwB,QAAQ,EAAE,UAACE,QAAQ,EAAK;MACjCT,aAAa,CAACS,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAAAxB,GAAG;QAAA,OAAIA,GAAG,CAACyB,IAAI,EAAE;MAAA,EAAC,CAAC;MACnDV,cAAc,CAACO,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAAAxB,GAAG;QAAA,OAAIA,GAAG,CAAC0B,EAAE;MAAA,EAAC,CAAC;IAClD,CAAC,CAAC;IAEF,IAAMC,OAAO,GAAG9B,KAAK,CAACH,UAAU,CAACD,EAAE,EAAE,SAAS,CAAC,EAAEK,KAAK,CAAC,KAAK,EAAE,IAAI,EAAEW,IAAI,CAACY,GAAG,CAAC,CAAC;IAC9EzB,UAAU,CAAC+B,OAAO,EAAE,UAACL,QAAQ,EAAK;MAChCL,cAAc,CAACK,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAAAxB,GAAG;QAAA,OAAIA,GAAG,CAACyB,IAAI,EAAE;MAAA,EAAC,CAAC;MACpDN,eAAe,CAACG,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAAAxB,GAAG;QAAA,OAAIA,GAAG,CAAC0B,EAAE;MAAA,EAAC,CAAC;IACnD,CAAC,CAAC;EAEJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAME,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,IAAI,EAAK;IACzB,IAAIA,IAAI,CAACC,MAAM,IAAI,CAAC,EAAE;MACpB,IAAMC,GAAG,GAAGC,QAAQ,CAACH,IAAI,CAACI,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI;QAAA,OAAMD,IAAI,GAAC,EAAE,GAAIC,IAAI;MAAA,GAAE,CAAC,CAAC,GAAG,EAAE,CAAC;MAC3E,IAAMC,GAAG,GAAGP,IAAI,CAACI,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI;QAAA,OAAMD,IAAI,GAAC,EAAE,GAAIC,IAAI;MAAA,EAAC,GAAG,EAAE;MAC9D,OAAOJ,GAAG,IAAI,CAAC,GAAG,KAAK,GAAGK,GAAG,GAAG,SAAS,GAAG,KAAK,GAAGL,GAAG,GAAG,QAAQ,GAAGK,GAAG,GAAG,SAAS;IACtF;EACF,CAAC;EACD,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,KAAK,EAAEZ,EAAE,EAAK;IACpCa,KAAK,CAACC,KAAK,CACT,IAAI,EACJ,6BAA6B,EAC7B,CACE;MACEC,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAE,mBAAM;QAAEC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MAAC,CAAC;MACvDC,KAAK,EAAE;IACT,CAAC,EACD;MACEJ,IAAI,EAAE,MAAM;MACZC,OAAO,EAAE,mBAAM;QACb,IAAI;UACF3C,SAAS,CAACC,GAAG,CAACP,EAAE,EAAE,UAAU,EAAE6C,KAAK,CAAC,CAAC;;UAGrC,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpB,EAAE,CAACI,MAAM,EAAEgB,CAAC,EAAE,EAAE;YAClC/C,SAAS,CAACC,GAAG,CAACP,EAAE,EAAE,SAAS,EAAEyB,YAAY,CAACQ,EAAE,CAACoB,CAAC,CAAC,CAAC,CAAC,CAAC;UACpD;UACAH,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;QAC9B,CAAC,CACD,OAAOG,CAAC,EAAE;UACRJ,OAAO,CAACC,GAAG,CAACG,CAAC,CAAC;QAChB;MACF;IACF,CAAC,CACF,CACF;EACH,CAAC;EACD,IAAMC,MAAM,GAAG,SAATA,MAAM,GAAS;IACnBxC,aAAa,CAAC,IAAI,CAAC;IAEnByC,UAAU,CAAC,YAAM;MACfzC,aAAa,CAAC,KAAK,CAAC;MACpBmC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;IAC3B,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EACD,IAAIhC,UAAU,CAACkB,MAAM,IAAI,CAAC,EAAE;IAC1B,OACE,MAAC,IAAI;MAAC,KAAK,EAAEoB,MAAM,CAACC,SAAU;MAAA,WAC5B,KAAC,IAAI;QAAC,KAAK,EAAE;UAAEC,QAAQ,EAAE,EAAE;UAAEC,UAAU,EAAE,KAAK;UAAEC,KAAK,EAAE;QAAY,CAAE;QAAA;MAAA,EAAgD,EACrH,KAAC,gBAAgB;QAAC,OAAO,EAAE,mBAAM;UAC/BhD,UAAU,CAACiD,QAAQ,CAAC,YAAY,CAAC;QACnC,CAAE;QAAA,UACA,KAAC,QAAQ;UAAC,IAAI,EAAC,wBAAwB;UAAC,IAAI,EAAE,GAAI;UAAC,KAAK,EAAE;QAAY;MAAY,EACjE,EACnB,KAAC,gBAAgB;QACf,cAAc,EACZ,KAAC,cAAc;UACb,UAAU,EAAEhD,UAAW;UACvB,SAAS,EAAE,qBAAM;YAAEyC,MAAM,EAAE;UAAC;QAAE,EACjC;QACD,OAAO,EAAE,mBAAM;UAAEA,MAAM,EAAE;QAAC,CAAE;QAC5B,KAAK,EAAE,CAAC,CAAE;QAAA,UAEV,KAAC,QAAQ;UAAC,IAAI,EAAC,aAAa;UAAC,IAAI,EAAE,EAAG;UAAC,KAAK,EAAE;QAAY;MAAG,EAC5C;IAAA,EACd;EAEX,CAAC,MACI;IACH,OACE,MAAC,IAAI;MAAC,KAAK,EAAEE,MAAM,CAACC,SAAU;MAAA,WAE5B,KAAC,IAAI;QAAC,KAAK,EAAE,CAACD,MAAM,CAACM,SAAS,EAAE;UAAEC,KAAK,EAAE,MAAM;UAAEC,OAAO,EAAE;QAAG,CAAC,CAAE;QAAA,UAE9D,KAAC,QAAQ;UAAC,IAAI,EAAE9C,UAAW;UACzB,cAAc,EACZ,KAAC,cAAc;YACb,UAAU,EAAEL,UAAW;YACvB,SAAS,EAAE,qBAAM;cAAEyC,MAAM,EAAE;YAAC;UAAE,EACjC;UACD,UAAU,EAAE;YAAA,IAAGW,IAAI,SAAJA,IAAI;cAAEC,KAAK,SAALA,KAAK;YAAA,OACxB,MAAC,IAAI;cAAC,KAAK,EAAE;gBACXC,MAAM,EAAE,MAAM;gBACdJ,KAAK,EAAE,MAAM;gBACbK,WAAW,EAAE,CAAC;gBACdC,WAAW,EAAE,WAAW;gBACxBC,YAAY,EAAE,EAAE;gBAChBC,YAAY,EAAE,EAAE;gBAChBC,eAAe,EAAEP,IAAI,CAACO;cACxB,CAAE;cAAA,WACA,MAAC,IAAI;gBAAC,KAAK,EAAE,CAAC;kBAAER,OAAO,EAAE,EAAE;kBAAES,UAAU,EAAE;gBAAG,CAAC,CAAE;gBAAA,WAC7C,MAAC,IAAI;kBAAC,KAAK,EAAE;oBAAEC,aAAa,EAAE;kBAAO,CAAE;kBAAA,WACrC,KAAC,IAAI;oBAAC,KAAK,EAAE;sBAACX,KAAK,EAAG,KAAK;sBAAEI,MAAM,EAAG;oBAAM,CAAE;oBAAA,UAC5C,KAAC,IAAI;sBAAC,KAAK,EAAE,CAACX,MAAM,CAACmB,MAAM,EAAE;wBAAEJ,YAAY,EAAE;sBAAG,CAAC,CAAE;sBAAA,UAAEN,IAAI,CAACW;oBAAU;kBAAQ,EACvE,EACP,KAAC,gBAAgB;oBAAC,KAAK,EAAE;sBACvBC,QAAQ,EAAE,UAAU;sBACpBC,KAAK,EAAE,CAAC;sBACRC,GAAG,EAAE;oBACP,CAAE;oBACA,OAAO,EAAE,mBAAM;sBACbpC,cAAc,CAACvB,WAAW,CAAC8C,KAAK,CAAC,EAAE5C,WAAW,CAACQ,GAAG,CAAC,UAACC,IAAI,EAAEmC,KAAK;wBAAA,OAAKnC,IAAI,CAACiD,UAAU,IAAIf,IAAI,CAACgB,QAAQ,GAAGf,KAAK,GAAG,IAAI;sBAAA,EAAC,CAACgB,MAAM,CAAC,UAAAnD,IAAI;wBAAA,OAAIA,IAAI,IAAI,IAAI;sBAAA,EAAC,CAAC;oBACpJ,CAAE;oBAAA,UAEF,KAAC,QAAQ;sBAAC,IAAI,EAAC,mBAAmB;sBAAC,IAAI,EAAE,EAAG;sBAAC,KAAK,EAAE;oBAAQ;kBAAG,EAE9C;gBAAA,EACd,EACP,MAAC,IAAI;kBAAC,KAAK,EAAE;oBAAE2B,QAAQ,EAAE,EAAE;oBAAEC,UAAU,EAAE;kBAAM,CAAE;kBAAA,WAAErC,WAAW,CAAC4D,MAAM,CAAC,UAAAjD,OAAO;oBAAA,OAAIA,OAAO,CAAC+C,UAAU,IAAIf,IAAI,CAACgB,QAAQ;kBAAA,EAAC,CAAC7C,MAAM,yBACzHF,QAAQ,CAACZ,WAAW,CAAC4D,MAAM,CAAC,UAAAnD,IAAI;oBAAA,OAAIA,IAAI,CAACiD,UAAU,IAAIf,IAAI,CAACgB,QAAQ;kBAAA,EAAC,CAACnD,GAAG,CAAC,UAAAC,IAAI;oBAAA,OAAIA,IAAI,CAACoD,YAAY;kBAAA,EAAC,CAAC;gBAAA,EACjG;cAAA,EACF,EAEP,KAAC,IAAI;gBAAC,KAAK,EAAE;kBAAET,aAAa,EAAE;gBAAS,CAAE;gBAAA,UACvC,KAAC,SAAS;kBAAC,KAAK,EAAE;oBAChBX,KAAK,EAAE,MAAM;oBACbI,MAAM,EAAE,EAAE;oBACVK,eAAe,EAAE,WAAW;oBAC5BY,UAAU,EAAE,QAAQ;oBACpBC,cAAc,EAAE,QAAQ;oBACxBf,YAAY,EAAE;kBAChB,CAAE;kBACA,OAAO,EAAE,mBAAM;oBACb1D,UAAU,CAACiD,QAAQ,CAAC,kBAAkB,EAAE;sBAAEyB,YAAY,EAAEhE,WAAW;sBAAE2D,QAAQ,EAAEhB,IAAI,CAACgB,QAAQ;sBAAEM,KAAK,EAAEtB,IAAI,CAACW;oBAAW,CAAC,CAAC;kBACzH,CAAE;kBACF,OAAO,EAAE;oBAAA,IAAGjE,KAAK,SAALA,KAAK;oBAAA,OAAQ;sBACvB4E,KAAK,EAAE5E,KAAK,CAAC6E,MAAM,CAACD;oBACtB,CAAC;kBAAA,CAAE;kBAAA,UACH,KAAC,QAAQ;oBAAC,IAAI,EAAC,mBAAmB;oBAAC,IAAI,EAAE,EAAG;oBAAC,KAAK,EAAE;kBAAQ;gBAAG;cAErD,EACP;YAAA,GA1CDrB,KAAK,CA2CN;UAAA;QAER;MAAG,EACD,EACP,KAAC,IAAI;QAAC,KAAK,EAAE;UAAEN,KAAK,EAAE,WAAW;UAAEW,YAAY,EAAE;QAAE,CAAE;QAAA;MAAA,EAAkE;IAAA,EAMlH;EAEX;AACF,CAAC;AAED,IAAMf,MAAM,GAAGiC,UAAU,CAACC,MAAM,CAAC;EAC/BjC,SAAS,EAAE;IACTkC,IAAI,EAAE,CAAC;IACPN,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpBZ,eAAe,EAAE;EACnB,CAAC;EACDG,MAAM,EAAE;IAENjB,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,KAAK;IACjBC,KAAK,EAAE;EAIT,CAAC;;EACDE,SAAS,EAAE;IACT6B,IAAI,EAAE,CAAC;IACPrB,YAAY,EAAE,EAAE;IAChBsB,WAAW,EAAE,OAAO;IACpBC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE;MAAE/B,KAAK,EAAE,CAAC;MAAEI,MAAM,EAAE;IAAE,CAAC;IACrC4B,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE,CAAC;IACZhC,OAAO,EAAE,EAAE;IACXqB,cAAc,EAAE;EAClB,CAAC;EACDY,OAAO,EAAE;IACPlC,KAAK,EAAE,MAAM;IACbI,MAAM,EAAE,GAAG;IACX+B,SAAS,EAAE,CAAC,CAAC;IACb5B,YAAY,EAAE;EAChB,CAAC;EACDiB,KAAK,EAAE;IACL7B,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBwC,SAAS,EAAE;EACb,CAAC;EACDC,YAAY,EAAE;IACZT,IAAI,EAAE,CAAC;IACPN,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpBc,SAAS,EAAE;EACb,CAAC;EACDG,SAAS,EAAE;IACT7B,eAAe,EAAE,OAAO;IACxBF,YAAY,EAAE,CAAC;IACfN,OAAO,EAAE,EAAE;IACXD,KAAK,EAAE,MAAM;IACbI,MAAM,EAAE,GAAG;IACXiB,UAAU,EAAE,QAAQ;IACpBP,QAAQ,EAAE,UAAU;IACpByB,MAAM,EAAE,CAAC;IACTV,WAAW,EAAE,MAAM;IACnBE,YAAY,EAAE;MACZ/B,KAAK,EAAE,CAAC;MACRI,MAAM,EAAE;IACV,CAAC;IACD0B,aAAa,EAAE,GAAG;IAClBE,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE;EACb,CAAC;EACDO,MAAM,EAAE;IACNjC,YAAY,EAAE,CAAC;IACfN,OAAO,EAAE,EAAE;IACXgC,SAAS,EAAE;EACb,CAAC;EACDQ,SAAS,EAAE;IACT5C,KAAK,EAAE,OAAO;IACdD,UAAU,EAAE,MAAM;IAClBwC,SAAS,EAAE;EACb,CAAC;EACDM,SAAS,EAAE;IACTlC,YAAY,EAAE,CAAC;IACf4B,SAAS,EAAE;EACb;AACF,CAAC,CAAC;AAEF,eAAezF,eAAe"},"metadata":{},"sourceType":"module"}