{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { db } from \"../../database/firebase\";\nimport { collection, onSnapshot, orderBy, query } from 'firebase/firestore';\nimport React, { useState, useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar BasicCoursesScreen = function BasicCoursesScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    courseData = _useState2[0],\n    setCourseData = _useState2[1];\n  useEffect(function () {\n    var q = query(collection(db, 'defaultCourse'), orderBy(\"courseId\", 'asc'));\n    onSnapshot(q, function (snapshot) {\n      setCourseData(snapshot.docs.map(function (doc) {\n        return doc.data();\n      }));\n    });\n  }, []);\n  var formatTime = function formatTime(time) {\n    return Math.floor(time / 60) + \" นาที \" + time % 60 + \" วินาที\";\n  };\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item,\n      index = _ref2.index;\n    return _jsxs(View, {\n      style: {\n        height: 370,\n        width: '100%',\n        borderWidth: 1,\n        borderColor: 'lightgray',\n        borderRadius: 5,\n        marginBottom: 15,\n        backgroundColor: '#F2F2F2'\n      },\n      children: [_jsx(View, {\n        style: [styles.gridItem],\n        children: _jsx(Image, {\n          source: {\n            uri: item.image\n          },\n          style: [styles.bgImage]\n        })\n      }), _jsxs(View, {\n        style: {\n          position: 'absolute',\n          width: '95%',\n          top: 160,\n          paddingTop: 10,\n          paddingRight: 10,\n          paddingLeft: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            marginLeft: 10,\n            fontSize: 16,\n            fontWeight: '700'\n          },\n          children: item.courseTitle\n        }), _jsxs(Text, {\n          style: {\n            marginLeft: 10,\n            marginTop: 10\n          },\n          children: [\"    \", item.desc]\n        }), _jsxs(Text, {\n          style: {\n            marginLeft: 10,\n            marginTop: 10\n          },\n          children: [\"\\u0E17\\u0E48\\u0E32\\u0E2D\\u0E2D\\u0E01\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E01\\u0E32\\u0E22 \", _jsx(Text, {\n            style: {\n              fontWeight: '700'\n            },\n            children: item.postureData.length\n          })]\n        }), _jsxs(Text, {\n          style: {\n            marginLeft: 10,\n            marginTop: 10\n          },\n          children: [\"\\u0E40\\u0E27\\u0E25\\u0E32\\u0E23\\u0E27\\u0E21\", \" \", _jsx(Text, {\n            style: {\n              fontWeight: '700'\n            },\n            children: formatTime(item.postureData.map(function (data) {\n              return data.timeDuration;\n            }).reduce(function (prev, curr) {\n              return prev + 15 + curr;\n            }))\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: {\n          width: '100%',\n          height: 40,\n          backgroundColor: 'lightblue',\n          alignItems: 'center',\n          justifyContent: 'center',\n          borderRadius: 5\n        },\n        onPress: function onPress() {\n          navigation.navigate(\"Course Detail\", {\n            courseTitle: item.courseTitle,\n            courseData: item\n          });\n        },\n        children: _jsx(Ionicons, {\n          name: \"ios-enter-outline\",\n          size: 20,\n          color: 'black'\n        })\n      })]\n    }, index);\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: [styles.shadowbox, {\n        width: \"100%\",\n        padding: 10\n      }],\n      children: _jsx(FlatList, {\n        data: courseData,\n        renderItem: renderItem\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: '#fff'\n  },\n  gridItem: {\n    flex: 1,\n    marginBottom: 10,\n    paddingTop: 5,\n    height: 170\n  },\n  txtImg: {\n    flex: 1,\n    left: 20,\n    top: 10,\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    fontSize: 32,\n    fontWeight: '700',\n    color: \"#000\",\n    position: 'absolute'\n  },\n\n  shadowbox: {\n    flex: 1,\n    borderRadius: 10,\n    shadowColor: \"black\",\n    shadowOpacity: 0.26,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 10,\n    elevation: 3,\n    padding: 20,\n    justifyContent: \"flex-end\"\n  },\n  bgImage: {\n    width: \"100%\",\n    height: 150,\n    marginTop: -5,\n    borderRadius: 3\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    textAlign: 'center'\n  }\n});\nexport default BasicCoursesScreen;","map":{"version":3,"names":["Ionicons","db","collection","onSnapshot","orderBy","query","React","useState","useEffect","BasicCoursesScreen","navigation","courseData","setCourseData","q","snapshot","docs","map","doc","data","formatTime","time","Math","floor","renderItem","item","index","height","width","borderWidth","borderColor","borderRadius","marginBottom","backgroundColor","styles","gridItem","uri","image","bgImage","position","top","paddingTop","paddingRight","paddingLeft","marginLeft","fontSize","fontWeight","courseTitle","marginTop","desc","postureData","length","timeDuration","reduce","prev","curr","alignItems","justifyContent","navigate","container","shadowbox","padding","StyleSheet","create","flex","txtImg","left","alignSelf","color","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","title","textAlign"],"sources":["C:/Users/LENOVO/OneDrive/เอกสาร/GitHub/mdp-proj-2022/screens/BasicCourses/BasicCoursesScreen.js"],"sourcesContent":["import { StyleSheet, Text, View, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { db } from '../../database/firebase';\r\nimport { collection, onSnapshot, orderBy, query} from 'firebase/firestore';\r\nimport React, {useState, useEffect} from 'react';\r\nconst BasicCoursesScreen = ({navigation})  => {\r\n  const [courseData, setCourseData] = useState([])\r\n  useEffect(() => {\r\n    const q = query(collection(db, 'defaultCourse'), orderBy(\"courseId\", 'asc'))\r\n    onSnapshot(q, (snapshot) => {\r\n        setCourseData(snapshot.docs.map(doc => doc.data()))\r\n    })\r\n  }, [])\r\n  const formatTime = (time) => {\r\n    return Math.floor(time/60) + \" นาที \" + time%60 +  \" วินาที\"\r\n  }\r\n  const renderItem = ({item, index}) => {\r\n    return(\r\n      <View key={index} style={{height : 370, \r\n        width : '100%',\r\n        borderWidth : 1, \r\n        borderColor : 'lightgray', \r\n        borderRadius : 5,\r\n        marginBottom : 15,\r\n        backgroundColor : '#F2F2F2'}}>      \r\n        <View style={[styles.gridItem]}>\r\n        <Image source={{ uri: item.image }} style={[styles.bgImage]}/>\r\n        </View>\r\n\r\n        <View style={{position : 'absolute', width : '95%', top : 160, paddingTop : 10, paddingRight : 10, paddingLeft : 10}}>\r\n\r\n        <Text style={{marginLeft : 10, fontSize : 16, fontWeight : '700'}}>\r\n          {item.courseTitle}\r\n        </Text>\r\n\r\n        <Text style={{marginLeft : 10, marginTop : 10}}>\r\n          {\"    \"}{item.desc}\r\n        </Text>\r\n\r\n        <Text style={{marginLeft : 10, marginTop : 10}}>\r\n          ท่าออกกำลังกาย <Text style={{fontWeight : '700'}}>{item.postureData.length}</Text>\r\n        </Text>\r\n        <Text style={{marginLeft : 10, marginTop : 10}}>\r\n          เวลารวม{\" \"}\r\n        <Text style={{fontWeight : '700'}}>{formatTime(item.postureData.map(data => data.timeDuration).reduce((prev, curr) => (prev+15) + curr))}</Text>\r\n        </Text>\r\n\r\n        </View>\r\n\r\n        <TouchableOpacity style={{width : '100%', \r\n                            height : 40, \r\n                            backgroundColor : 'lightblue',\r\n                            alignItems : 'center',\r\n                            justifyContent : 'center',\r\n                            borderRadius : 5}}\r\n        onPress={() => {\r\n        navigation.navigate(\"Course Detail\", {courseTitle : item.courseTitle, courseData : item})\r\n        }}>\r\n        <Ionicons name='ios-enter-outline' size={20} color={'black'}/>\r\n        </TouchableOpacity>\r\n        </View>\r\n      )\r\n  }\r\n  return (\r\n    <View style={styles.container}>\r\n\r\n      <View style={[styles.shadowbox, {width : \"100%\", padding : 10}]}>\r\n        <FlatList data={courseData} renderItem={renderItem} />\r\n      </View>\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor : '#fff'\r\n  },\r\n  gridItem: {\r\n    flex: 1,\r\n    marginBottom: 10,\r\n    paddingTop:5,\r\n    height: 170,\r\n  },\r\n  txtImg:{\r\n    flex: 1,\r\n    //fontFamily: 'Kanit_400Regular', //เอาไว้ค่อย import มาใหม่\r\n    left : 20,\r\n    top : 10,\r\n    justifyContent: \"center\",\r\n    alignSelf: \"center\",\r\n    fontSize:32,\r\n    fontWeight : '700',\r\n    color:\"#000\",\r\n    position : 'absolute',\r\n    // textShadowColor:'#585858',\r\n    // textShadowOffset:{width: 5, height: 5},\r\n    // textShadowRadius:10,\r\n    },\r\n  shadowbox: {\r\n    flex: 1,\r\n    borderRadius: 10,\r\n    shadowColor: \"black\",\r\n    shadowOpacity: 0.26,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowRadius: 10,\r\n    elevation: 3,\r\n    padding: 20,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  bgImage: {\r\n    width: \"100%\",\r\n    height: 150,\r\n    marginTop : -5,\r\n    borderRadius : 3,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: \"bold\",\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default BasicCoursesScreen;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}